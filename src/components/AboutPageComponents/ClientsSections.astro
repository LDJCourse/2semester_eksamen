---
const apikey = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmY2F3ZGx1Y29ib2hmbm1yeG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU5NDU3OTcsImV4cCI6MjAzMTUyMTc5N30.Tncixva_zJhjtqjW-cBPr9RFrDbPfLxGtp5c9EhnIn4`;

const res = await fetch(
  `https://ifcawdlucobohfnmrxmg.supabase.co/rest/v1/clients?apikey=${apikey}`
);
const data = await res.json();
---

<section class="container">
  <div class="clients_wrapper">
    <h1>CLIENTS</h1>
    <p>
      RPM Records caters to diverse clients globally, from indie artists to
      major labels and distributors across North America, Europe, and Asia.
      We're known for our fast, top-notch service and unwavering fairness to
      all, irrespective of scale or stature.
    </p>
  </div>
  <div></div>

  <swiper-container class="mySwiper" navigation="true" color>
    {
      data.map((t) => (
        <swiper-slide>
          <div class="image_container">
            <img src={t.image} alt="Billede af artist" />
            <h3>{t.name}</h3>
          </div>
        </swiper-slide>
      ))
    }
  </swiper-container>
</section>

<style>
  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    padding: 20px;
    color: var(--secondary-color);
  }

  .clients_wrapper {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    gap: 16px;
  }

  .karrusel_wrapper {
    grid-row: 2 / 3;
    width: 60%;
    height: auto;
  }

  .image_container {
    width: 70%;
  }

  img {
    max-width: 100%;
  }
  h1 {
    text-align: center;
  }

  h3 {
    text-align: center;
    background: #826aed;
    padding: 20px;
  }

  p {
    line-height: 1.8;
  }

  swiper-container {
    width: 100%;
    height: 100%;
  }

  swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  @media (min-width: 768px) {
    .container {
      justify-content: center;
      align-items: center;
    }

    .clients_wrapper {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 60%;
      gap: 16px;
    }

    .karrusel_wrapper {
      height: 60%;
    }

    swiper-container {
      width: 40%;
    }

    .image_container {
      width: auto;
    }
  }
</style>

<script
  src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"
></script>
